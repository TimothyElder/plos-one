<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE article
  PUBLIC "-//NLM//DTD Journal Publishing DTD v3.0 20080202//EN" "http://dtd.nlm.nih.gov/publishing/3.0/journalpublishing3.dtd">
<article xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" article-type="research-article" dtd-version="3.0" xml:lang="en">
<front>
<journal-meta>
<journal-id journal-id-type="nlm-ta">PLoS ONE</journal-id>
<journal-id journal-id-type="publisher-id">plos</journal-id>
<journal-id journal-id-type="pmc">plosone</journal-id><journal-title-group>
<journal-title>PLoS ONE</journal-title></journal-title-group>
<issn pub-type="epub">1932-6203</issn>
<publisher>
<publisher-name>Public Library of Science</publisher-name>
<publisher-loc>San Francisco, USA</publisher-loc></publisher>
</journal-meta>
<article-meta>
<article-id pub-id-type="publisher-id">PONE-D-13-50372</article-id>
<article-id pub-id-type="doi">10.1371/journal.pone.0092196</article-id>
<article-categories><subj-group subj-group-type="heading"><subject>Research Article</subject></subj-group><subj-group subj-group-type="Discipline-v2"><subject>Computer and information sciences</subject><subj-group><subject>Network analysis</subject><subj-group><subject>Social networks</subject></subj-group></subj-group><subj-group><subject>Systems science</subject><subj-group><subject>Complex systems</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v2"><subject>Physical sciences</subject><subj-group><subject>Mathematics</subject><subj-group><subject>Applied mathematics</subject><subject>Calculus</subject><subject>Differential equations</subject></subj-group></subj-group><subj-group><subject>Physics</subject><subj-group><subject>Interdisciplinary physics</subject></subj-group></subj-group></subj-group><subj-group subj-group-type="Discipline-v2"><subject>Social sciences</subject><subj-group><subject>Anthropology</subject><subj-group><subject>Social anthropology</subject></subj-group></subj-group><subj-group><subject>Sociology</subject><subj-group><subject>Computational sociology</subject><subject>Social mobility</subject><subject>Social systems</subject></subj-group></subj-group></subj-group></article-categories>
<title-group>
<article-title>Entangling Mobility and Interactions in Social Media</article-title>
<alt-title alt-title-type="running-head">Coupling Mobility and Interactions in Social Media</alt-title>
</title-group>
<contrib-group>
<contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>Grabowicz</surname><given-names>Przemyslaw A.</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref><xref ref-type="aff" rid="aff2"><sup>2</sup></xref><xref ref-type="corresp" rid="cor1"><sup>*</sup></xref></contrib>
<contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>Ramasco</surname><given-names>José J.</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib>
<contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>Gonçalves</surname><given-names>Bruno</given-names></name><xref ref-type="aff" rid="aff3"><sup>3</sup></xref><xref ref-type="aff" rid="aff4"><sup>4</sup></xref></contrib>
<contrib contrib-type="author" xlink:type="simple"><name name-style="western"><surname>Eguíluz</surname><given-names>Víctor M.</given-names></name><xref ref-type="aff" rid="aff1"><sup>1</sup></xref></contrib>
</contrib-group>
<aff id="aff1"><label>1</label><addr-line>Instituto de Fisica Interdisciplinar y Sistemas Complejos, CSIC-UIB, Palma de Mallorca, Spain</addr-line></aff>
<aff id="aff2"><label>2</label><addr-line>Max Planck Institute for Software Systems, MPG, Saarbrücken, Germany</addr-line></aff>
<aff id="aff3"><label>3</label><addr-line>Le Centre de Physique Théorique, CNRS, Aix-Marseille Université, Marseille, France</addr-line></aff>
<aff id="aff4"><label>4</label><addr-line>Le Centre de Physique Théorique, CNRS, Université de Toulon, La Garde, France</addr-line></aff>
<contrib-group>
<contrib contrib-type="editor" xlink:type="simple"><name name-style="western"><surname>Perc</surname><given-names>Matjaž</given-names></name>
<role>Editor</role>
<xref ref-type="aff" rid="edit1"/></contrib>
</contrib-group>
<aff id="edit1"><addr-line>University of Maribor, Slovenia</addr-line></aff>
<author-notes>
<corresp id="cor1">* E-mail: <email xlink:type="simple">pms@mpi-sws.org</email></corresp>
<fn fn-type="conflict"><p>The authors have declared that no competing interests exist.</p></fn>
<fn fn-type="con"><p>Conceived and designed the experiments: PAG JJR BG VME. Performed the experiments: PAG. Analyzed the data: PAG. Contributed reagents/materials/analysis tools: PAG JJR BG VME. Wrote the paper: PAG JJR BG VME.</p></fn>
</author-notes>
<pub-date pub-type="collection"><year>2014</year></pub-date>
<pub-date pub-type="epub"><day>20</day><month>3</month><year>2014</year></pub-date>
<volume>9</volume>
<issue>3</issue>
<elocation-id>e92196</elocation-id>
<history>
<date date-type="received"><day>29</day><month>11</month><year>2013</year></date>
<date date-type="accepted"><day>19</day><month>2</month><year>2014</year></date>
</history>
<permissions>
<copyright-year>2014</copyright-year>
<copyright-holder>Grabowicz et al</copyright-holder><license xlink:type="simple"><license-p>This is an open-access article distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/" xlink:type="simple">Creative Commons Attribution License</ext-link>, which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.</license-p></license></permissions>
<abstract>
<p>Daily interactions naturally define social circles. Individuals tend to be friends with the people they spend time with and they choose to spend time with their friends, inextricably entangling physical location and social relationships. As a result, it is possible to predict not only someone’s location from their friends’ locations but also friendship from spatial and temporal co-occurrence. While several models have been developed to separately describe mobility and the evolution of social networks, there is a lack of studies coupling social interactions and mobility. In this work, we introduce a model that bridges this gap by explicitly considering the feedback of mobility on the formation of social ties. Data coming from three online social networks (Twitter, Gowalla and Brightkite) is used for validation. Our model reproduces various topological and physical properties of the networks not captured by models uncoupling mobility and social interactions such as: i) the total size of the connected components, ii) the distance distribution between connected users, iii) the dependence of the reciprocity on the distance, iv) the variation of the social overlap and the clustering with the distance. Besides numerical simulations, a mean-field approach is also used to study analytically the main statistical features of the networks generated by a simplified version of our model. The robustness of the results to changes in the model parameters is explored, finding that a balance between friend visits and long-range random connections is essential to reproduce the geographical features of the empirical networks.</p>
</abstract>
<funding-group><funding-statement>We have received partial financial support from the Spanish Ministry of Economy (MINECO) and FEDER (EU) under project MODASS (FIS2011-24785), and from the EU Commission through projects EUNOIA, INSIGHT and LASAGNE. PAG acknowledges funding from the JAE-Predoc program of Consejo Superior de Investigaciones Científicas and JJR from the Ramón y Cajal program of MINECO. BG was partially supported by the French ANR project HarMS-flu (ANR-12-MONU-0018). The funders had no role in study design, data collection and analysis, decision to publish, or preparation of the manuscript.</funding-statement></funding-group><counts><page-count count="12"/></counts></article-meta>
</front>
<body><sec id="s1">
<title>Introduction</title>
<p>The advent of the big data revolution has opened the door to the analysis of massive datasets on all aspects of society. New technologies have made possible the access to unprecedented amount of information on human behavior generated unobtrusively whenever people interact with or through modern technologies such as cell phones, online services, mobile applications, etc. This fact is facilitating the pursuit of a computational approach to the study of problems traditionally associated with social sciences <xref ref-type="bibr" rid="pone.0092196-Lazer1">[1]</xref>. Over the course of the last few years, it has allowed for the development of greater insights, for instance, into human mobility <xref ref-type="bibr" rid="pone.0092196-Brockmann1">[2]</xref>–<xref ref-type="bibr" rid="pone.0092196-Song1">[4]</xref>, structure of online social networks <xref ref-type="bibr" rid="pone.0092196-Kwak1">[5]</xref>, <xref ref-type="bibr" rid="pone.0092196-Mislove1">[6]</xref>, cognitive limitations <xref ref-type="bibr" rid="pone.0092196-Miritello1">[7]</xref>, <xref ref-type="bibr" rid="pone.0092196-Gonalves1">[8]</xref>, information diffusion and social contagion <xref ref-type="bibr" rid="pone.0092196-Bakshy1">[9]</xref>–<xref ref-type="bibr" rid="pone.0092196-Grabowicz1">[13]</xref>, the importance of social groups <xref ref-type="bibr" rid="pone.0092196-Grabowicz1">[13]</xref>–<xref ref-type="bibr" rid="pone.0092196-Ferrara1">[15]</xref> or even how political movements raise and develop <xref ref-type="bibr" rid="pone.0092196-BorgeHolthoefer1">[16]</xref>–<xref ref-type="bibr" rid="pone.0092196-Conover1">[18]</xref>.</p>
<p>The relation between physical location and social interactions can be also explored with the new available data. In general, people tend to interact and maintain relations with geographically close peers. A tendency that gets reflected in a decay of the social interaction probability with the physical distance. This effect has been observed, for example, in phone call records <xref ref-type="bibr" rid="pone.0092196-Lambiotte1">[19]</xref>–<xref ref-type="bibr" rid="pone.0092196-Phithakkitnukoon1">[21]</xref> and in online friendships <xref ref-type="bibr" rid="pone.0092196-LibenNowell1">[22]</xref>. Furthermore, it has been shown that online <xref ref-type="bibr" rid="pone.0092196-Crandall1">[23]</xref> social links can be inferred from user co-occurrences in space and time and, likewise, that the location of a person can be predicted from the geographic positions of his or her online friends <xref ref-type="bibr" rid="pone.0092196-Backstrom1">[25]</xref>. Some further aspects of the relation between geography and online social contacts have been studied such as the probability that a link at a given distance closes a triangle <xref ref-type="bibr" rid="pone.0092196-Lambiotte1">[19]</xref>, <xref ref-type="bibr" rid="pone.0092196-LibenNowell1">[22]</xref>, <xref ref-type="bibr" rid="pone.0092196-Scellato1">[26]</xref>, the connections between users in different countries <xref ref-type="bibr" rid="pone.0092196-Takhteyev1">[27]</xref>, the social interactions and mobility in emergency situations <xref ref-type="bibr" rid="pone.0092196-Lu1">[28]</xref> or the overlap between users’ ego networks and how it decays with the distance <xref ref-type="bibr" rid="pone.0092196-Volkovich1">[29]</xref>. Multi-parametric inference methods have been applied to empirical data with the aim of predicting link presence and users’ locations <xref ref-type="bibr" rid="pone.0092196-Wang1">[30]</xref>–<xref ref-type="bibr" rid="pone.0092196-Sadilek1">[32]</xref>. These works show that the accuracy of link prediction is considerably improved by taking into account the geographical information, and that the accuracy of location prediction is enhanced when the online social links are provided.</p>
<p>The availability of geo-localized information has also allowed for a detailed exploration of human mobility <xref ref-type="bibr" rid="pone.0092196-Brockmann1">[2]</xref>, <xref ref-type="bibr" rid="pone.0092196-Gonzlez1">[3]</xref>, <xref ref-type="bibr" rid="pone.0092196-Phithakkitnukoon1">[21]</xref>, <xref ref-type="bibr" rid="pone.0092196-Balcan1">[33]</xref>–<xref ref-type="bibr" rid="pone.0092196-Simini1">[36]</xref>. The length of displacements between locations was found to follow a broad distribution, well fitted by a power-law decaying function <xref ref-type="bibr" rid="pone.0092196-Brockmann1">[2]</xref>, <xref ref-type="bibr" rid="pone.0092196-Gonzlez1">[3]</xref>. The asymmetry of the travels was studied by considering ellipsoidal boundaries to the average individual displacements and analyzing the scaling of the radius of gyration. Memory effects in the individual displacements was also analyzed, finding that individuals’ home and workplace have a considerable impact on their mobility patterns <xref ref-type="bibr" rid="pone.0092196-Song1">[4]</xref>. These results motivated the introduction of several mobility models with the aim of explaining the features observed in the data <xref ref-type="bibr" rid="pone.0092196-Song1">[4]</xref>, <xref ref-type="bibr" rid="pone.0092196-Simini1">[36]</xref>–<xref ref-type="bibr" rid="pone.0092196-Hasan1">[39]</xref>. Despite the supporting evidence <xref ref-type="bibr" rid="pone.0092196-Phithakkitnukoon1">[21]</xref>, most of these models lack a connection between mobility and social interactions <xref ref-type="bibr" rid="pone.0092196-Giannotti1">[40]</xref>.</p>
<p>In this work, we lay a bridge between these two worlds by introducing a model coupling social tie formation and spatial mobility. Preceding models considering network structure and geography are uncoupled <xref ref-type="bibr" rid="pone.0092196-Gonzlez2">[24]</xref>, <xref ref-type="bibr" rid="pone.0092196-Butts1">[41]</xref>. Our model simulates the movement of individuals and creates links between them when they are physically close mimicking the effect of face-to-face interactions. We study the model both numerically and analytically and confront its results with empirical data obtained from three online social networks. We show that the model generates more realistic networks than uncoupled models.</p>
</sec><sec id="s2" sec-type="materials|methods">
<title>Materials and Methods</title>
<sec id="s2a">
<title>The Datasets</title>
<p>We have collected data from online social networks containing both social links and information about the users’ physical positions. The first dataset was obtained from Twitter by means of its API <xref ref-type="bibr" rid="pone.0092196-Twitter1">[42]</xref>. We identify over 714,000 single users, who tweeted using a GPS enabled mobile device during the month of August 2011 <xref ref-type="bibr" rid="pone.0092196-Ratkiewicz1">[43]</xref>. If those users reported various locations in different tweets, the most recent one is taken for the purpose of the study. The other two datasets contain information referring to the users’ location check-ins and the social networks of Gowalla and Brightkite <xref ref-type="bibr" rid="pone.0092196-Cho1">[31]</xref>. Both were location-based online social networks, in which users can check-in at their current locations and receive information about services in the area as well as about their friends’ positions. Gowalla and Brightkite are no longer active but their data is available online <xref ref-type="bibr" rid="pone.0092196-Data1">[44]</xref>. The main statistical features of our three datasets are displayed in <xref ref-type="table" rid="pone-0092196-t001">Table 1</xref>.</p>
<table-wrap id="pone-0092196-t001" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.t001</object-id><label>Table 1</label><caption>
<title>Datasets.</title>
</caption><alternatives><graphic id="pone-0092196-t001-1" position="float" mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.t001" xlink:type="simple"/>
<table><colgroup span="1"><col align="left" span="1"/><col align="center" span="1"/><col align="center" span="1"/><col align="center" span="1"/><col align="center" span="1"/><col align="center" span="1"/><col align="center" span="1"/><col align="center" span="1"/><col align="center" span="1"/></colgroup>
<thead>
<tr>
<td align="left" rowspan="1" colspan="1"/>
<td colspan="2" align="left" rowspan="1">TOTAL(×10<sup>3</sup>)</td>
<td colspan="2" align="left" rowspan="1">US(×10<sup>3</sup>)</td>
<td colspan="2" align="left" rowspan="1">UK(×10<sup>3</sup>)</td>
<td colspan="2" align="left" rowspan="1">DE(×10<sup>3</sup>)</td>
</tr>
<tr>
<td align="left" rowspan="1" colspan="1"/>
<td align="left" rowspan="1" colspan="1">N</td>
<td align="left" rowspan="1" colspan="1">L</td>
<td align="left" rowspan="1" colspan="1">N</td>
<td align="left" rowspan="1" colspan="1">L</td>
<td align="left" rowspan="1" colspan="1">N</td>
<td align="left" rowspan="1" colspan="1">L</td>
<td align="left" rowspan="1" colspan="1">N</td>
<td align="left" rowspan="1" colspan="1">L</td>
</tr>
</thead>
<tbody>
<tr>
<td align="left" rowspan="1" colspan="1">Twitter</td>
<td align="left" rowspan="1" colspan="1">714</td>
<td align="left" rowspan="1" colspan="1">15000</td>
<td align="left" rowspan="1" colspan="1">132</td>
<td align="left" rowspan="1" colspan="1">1100</td>
<td align="left" rowspan="1" colspan="1">28</td>
<td align="left" rowspan="1" colspan="1">117</td>
<td align="left" rowspan="1" colspan="1">3.8</td>
<td align="left" rowspan="1" colspan="1">8.5</td>
</tr>
<tr>
<td align="left" rowspan="1" colspan="1">Gowalla</td>
<td align="left" rowspan="1" colspan="1">196</td>
<td align="left" rowspan="1" colspan="1">950</td>
<td align="left" rowspan="1" colspan="1">46</td>
<td align="left" rowspan="1" colspan="1">350</td>
<td align="left" rowspan="1" colspan="1">5.2</td>
<td align="left" rowspan="1" colspan="1">20</td>
<td align="left" rowspan="1" colspan="1">5.2</td>
<td align="left" rowspan="1" colspan="1">30</td>
</tr>
<tr>
<td align="left" rowspan="1" colspan="1">Brightkite</td>
<td align="left" rowspan="1" colspan="1">58</td>
<td align="left" rowspan="1" colspan="1">214</td>
<td align="left" rowspan="1" colspan="1">27</td>
<td align="left" rowspan="1" colspan="1">167</td>
<td align="left" rowspan="1" colspan="1">3.1</td>
<td align="left" rowspan="1" colspan="1">10</td>
<td align="left" rowspan="1" colspan="1">1.3</td>
<td align="left" rowspan="1" colspan="1">7.2</td>
</tr>
</tbody>
</table>
</alternatives><table-wrap-foot><fn id="nt101"><label/><p>Number of users (nodes) <italic>N</italic> and of links <italic>L</italic> of the networks obtained from the different geo-localized datasets for the United States (US), the United Kingdom (UK) and Germany (DE).</p></fn></table-wrap-foot></table-wrap>
<p>Social interactions across country borders have particular properties and are affected by political, linguistic or cultural factors. We overcome this difficulty by restricting our analysis to the networks within each country. Intra-country mobility and social contacts account for the large majority of a user activity <xref ref-type="bibr" rid="pone.0092196-Ugander2">[45]</xref>, <xref ref-type="bibr" rid="pone.0092196-State1">[46]</xref>. For simplicity, we focus on the three major countries with more than one thousand users in each of our datasets: the United States (US), the United Kingdom (UK) and Germany (DE). We have analyzed and modeled other countries and found similar results to the ones presented in this manuscript.</p>
</sec><sec id="s2b">
<title>The Travel and Friend (TF) Model</title>
<p>The model structure is illustrated in <xref ref-type="fig" rid="pone-0092196-g001">Figure 1</xref>. The initial condition is a set of individuals located in the last known positions of the online network users as extracted from the data. At each step of the model, a randomly chosen agent performs actions in two stages:</p>
<fig id="pone-0092196-g001" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g001</object-id><label>Figure 1</label><caption>
<title>Schematic of the TF model.</title>
<p>The central node is the filled red circle and its neighbors are marked in blue. Directionality of links is neglected in this schematic to maintain simplicity.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g001" position="float" xlink:type="simple"/></fig>
<list list-type="order"><list-item>
<p>Travel</p>
<list list-type="alpha-lower"><list-item>
<p>Visit a randomly selected friend at his current location with probability <italic>p</italic><sub>v</sub>.</p>
</list-item><list-item>
<p>Otherwise, travel to a new location. The distance of travel is obtained from a distribution of jump lengths, while the direction is chosen proportionally to the population density at the target distance.</p>
</list-item></list>
</list-item><list-item>
<p>Friendship</p>
<list list-type="alpha-lower"><list-item>
<p>With probability <italic>p</italic>, create directed links to agents within a neighborhood of size <italic>δ</italic>×<italic>δ</italic>.</p>
</list-item><list-item>
<p>With probability <italic>p</italic><sub>c</sub>, create a directed connection to a randomly chosen agent anywhere in the system.</p>
</list-item></list>
</list-item></list>
<p>The acronym of the TF model comes from the initials of these two stages. The model is iterated until the number of created connections is equal to the number of links measured in the empirical networks. Despite its simplicity, the model incorporates several major features of human behavior. The <italic>Travel</italic> stage accounts for both recurring visits to the same location and exploration of new places and the <italic>Friendship</italic> component generates both face-to-face contacts and online acquaintances independent of the geography. Note that in the Friendship phase both of two possible actions happen concurrently with the respective probabilities. The effect of each of the underlying assumptions is systematically explored through analysis of model variants in <xref ref-type="supplementary-material" rid="pone.0092196.s010">Appendix S1</xref>.</p>
<p>The model has four input parameters: <italic>p<sub>v</sub></italic>, <italic>p</italic>, <italic>p</italic><sub>c</sub> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e001" xlink:type="simple"/></inline-formula>, besides the distribution of jump lengths. Following the empirical findings of Ref. <xref ref-type="bibr" rid="pone.0092196-Song1">[4]</xref>, we take a power-law distribution for the jump lengths with an exponent −1.55 for the main simulations shown in this work. Still, other functional shapes for the jump distribution are also discussed in the following section. The direction of the jump is chosen proportionally to the population density at the target distance using the gridded population estimates of the world for 2005 with the cell size 2.5′ <xref ref-type="bibr" rid="pone.0092196-Gridded1">[47]</xref>. The values of the probability <italic>p</italic> = 0.1 and the box size <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e002" xlink:type="simple"/></inline-formula> are fixed to match the relation between the probability of friendship and the number of daily spatiotemporal coincidences measured in <xref ref-type="bibr" rid="pone.0092196-Crandall1">[23]</xref>. (To this end, we assume that one time step of the model corresponds roughly to one day. Most of our simulations finish in less than a 1,000 time steps, corresponding to a few years, which is of the order of magnitude of users’ lifetime, given that Twitter was founded in 2005 and our dataset is from 2011.) Furthermore, we tested different values of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e003" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e004" xlink:type="simple"/></inline-formula> and did not observe strong deviations in the model results. This leaves us only with <italic>p<sub>v</sub></italic> and <italic>p</italic><sub>c</sub> as free model parameters, we will systematically explore in the coming sections the impact of these parameters on the model results, since, as it will be shown, they are essential for generating network comparable with the empirical ones.</p>
</sec><sec id="s2c">
<title>Geo-social Properties of the Networks</title>
<p>We start by establishing a set of metrics in order to characterize networks structure and its relation to geography. First, we measure the probability of two users to have a link at a certain distance <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e005" xlink:type="simple"/></inline-formula>. It is defined as the ratio between the number of existing links at distance <italic>d</italic> and the total number of users pairs separated by <italic>d</italic>, and thus it is constrained to the interval <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e006" xlink:type="simple"/></inline-formula>. <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e007" xlink:type="simple"/></inline-formula> decays slowly with the distance for empirical networks, essentially as a power-law with exponent <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e008" xlink:type="simple"/></inline-formula>, which is followed by a plateau for very large distances (see <xref ref-type="fig" rid="pone-0092196-g002">Figure 2A</xref>). This functional shape remains identical for all the countries and all the datasets considered. It matches, besides, the behavior reported in the literature for online social systems <xref ref-type="bibr" rid="pone.0092196-LibenNowell1">[22]</xref>, <xref ref-type="bibr" rid="pone.0092196-Scellato1">[26]</xref>.</p>
<fig id="pone-0092196-g002" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g002</object-id><label>Figure 2</label><caption>
<title>Network geo-social properties.</title>
<p>Various statistical network properties are plotted for the data obtained from Twitter (red squares), Gowalla (blue diamonds), Brightkite (green triangles) and the null models (dashed lines), for the US (for the UK and Germany, see <xref ref-type="supplementary-material" rid="pone.0092196.s001">Figures S1</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s002">S2</xref>). The spatial model (magenta), based on geography, matches well the data in <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e024" xlink:type="simple"/></inline-formula>, but yields near-zero values for <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e025" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e026" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e027" xlink:type="simple"/></inline-formula>. The linking model (cyan), based on triadic closure, produces enough clustering, but it does not reproduce the distance dependencies of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e028" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e029" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e030" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e031" xlink:type="simple"/></inline-formula>.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g002" position="float" xlink:type="simple"/></fig>
<p>A second metric that we consider is the degree distribution of the social networks (see <xref ref-type="fig" rid="pone-0092196-g002">Figure 2B</xref> for the empirical networks). For Twitter, which has a directed social network, we consider the degrees of its symmetrized version. The distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e009" xlink:type="simple"/></inline-formula> displays heavy tail in all the datasets, even though there are slight differences between them.</p>
<p>Connections in Twitter are directed: one user follows the messages emitted by another. Reciprocated connections indicate mutual interest between the two users and a closer type of social relation <xref ref-type="bibr" rid="pone.0092196-Gonalves1">[8]</xref>, <xref ref-type="bibr" rid="pone.0092196-Grabowicz2">[14]</xref>. To assess how geography and reciprocity correlate, we measure the probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e010" xlink:type="simple"/></inline-formula> of reciprocation conditional on a link at a distance <italic>d</italic> (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2C</xref>). We find that the reciprocity decreases with the distance in all the countries analyzed. This trend is consistent with the idea that stronger relations occur close to where users spend most of their time, with some longer connections composed of friends who moved, former residences, online acquaintances, etc. Furthermore, long not-reciprocated connections may include users following public figures or celebrities.</p>
<p>With the aim of quantifying social closeness between users, we define the social overlap <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e011" xlink:type="simple"/></inline-formula> of two connected users <italic>i</italic> and <italic>j</italic> as<disp-formula id="pone.0092196.e012"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e012" xlink:type="simple"/><label>(1)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e013" xlink:type="simple"/></inline-formula> represents the set of friends of user <italic>i</italic>. <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e014" xlink:type="simple"/></inline-formula> is inspired by the Jaccard index but is modified to ensure that it takes a value of 1 if <italic>i</italic> and <italic>j</italic> share all their friends, and 0 if they have no common friends. In <xref ref-type="fig" rid="pone-0092196-g002">Figure 2D</xref>, the average of the social overlap <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e015" xlink:type="simple"/></inline-formula> over all pairs of connected users is plotted as a function of the distance between them. The social overlap decreases with the distance. The functional shape of the curves is similar for all the datasets, even though the overlap level is different for each of them. For Twitter, we use the symmetrized version of the network to study social overlap and clustering.</p>
<p>Another well known phenomenon in social networks is triadic closure. As one individual has a close relation with other two persons, there are high chances that these two individuals end up creating a social relation between themselves. In network analysis, a magnitude that quantifies this effect is the average clustering coefficient <italic>C</italic>. It is defined as the ratio between the number of closed triads and the total number of triads in the network. A triad is a sequence of 3 nodes <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e016" xlink:type="simple"/></inline-formula> such that the central node <italic>j</italic> is connected to both extreme nodes <italic>i</italic> and <italic>k</italic>. A closed triad is a triad that has also an edge between <italic>i</italic> and <italic>k</italic>, forming a triangle. Note that a triangle consists of 3 triads centered on different nodes. The effect of the distance on the clustering coefficient can be incorporated by measuring the distances from each central node <italic>j</italic> to two neighbors <italic>i</italic> and <italic>k</italic> forming a triad, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e017" xlink:type="simple"/></inline-formula>, and calculating the network clustering restricted to triads with distance <italic>d</italic>. This new function <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e018" xlink:type="simple"/></inline-formula> is the probability of closing a triangle given the distance <italic>d</italic> in a triad<disp-formula id="pone.0092196.e019"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e019" xlink:type="simple"/><label>(2)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e020" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e021" xlink:type="simple"/></inline-formula> are the numbers of triads and closed triads for the distance <italic>d</italic>, respectively. The value of the global clustering coefficient <italic>C</italic> can be recovered by averaging <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e022" xlink:type="simple"/></inline-formula> over <italic>d</italic>. In the datasets, we observe a drop in <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e023" xlink:type="simple"/></inline-formula> followed by a plateau, which is best visible for the US networks (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2E</xref>).</p>
<p>Given a triangle, several configurations are possible if there is diversity in the edge lengths. The triangle can be equilateral if all the edges have the same length, isosceles if two have the same length and the other is smaller, etc. We estimate the dominant shapes of the triangles in the network by measuring the disparity <italic>D</italic> defined as:<disp-formula id="pone.0092196.e032"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e032" xlink:type="simple"/><label>(3)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e033" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e034" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e035" xlink:type="simple"/></inline-formula> are the geographical distances between the locations of the users forming the triangle. The disparity takes values between 0 and 1 as the shape of the triangle passes from equilateral to isosceles, where one edge is much smaller than the other two. <italic>D</italic> shows a distribution with two maxima in the online social networks (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2F</xref>), for low and high values. The two most common geometries of the triangles are: i) all 3 users are at a similar distance, ii) 2 users are close to each other, while the third one is distant. Since most edges correspond to small distances, this means that most triangles are constituted by three users that are all close to each other geographically. However, the stretched isosceles configuration is also relatively common.</p>
<p>Summarizing, we have defined the following metrics in order to characterize the networks structure and its relation to geographical distance:</p>
<list list-type="bullet"><list-item>
<p><italic>P</italic><sub>1</sub>(<italic>d</italic>): Probability of linking at a distance <italic>d</italic> (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2A</xref>).</p>
</list-item><list-item>
<p><italic>P</italic>(<italic>k</italic>): Degree distribution (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2B</xref>).</p>
</list-item><list-item>
<p><italic>R</italic>(<italic>d</italic>): The probability of reciprocation conditional on a link at a distance (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2C</xref>).</p>
</list-item><list-item>
<p><italic>J</italic><sub>f</sub>(<italic>d</italic>): Average overlap as a function of the distance (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2D</xref>).</p>
</list-item><list-item>
<p><italic>C</italic>(<italic>d</italic>): Clustering coefficient as a function of the triad distance (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2E</xref>).</p>
</list-item><list-item>
<p><italic>P</italic>(<italic>D</italic>): Distribution of distance disparity for the triangles’ edges (<xref ref-type="fig" rid="pone-0092196-g002">Figure 2F</xref>).</p>
</list-item></list>
<p>We will use these metrics in the coming sections to estimate the ability of model to produce social networks comparable with those obtained from the empirical datasets.</p>
</sec><sec id="s2d">
<title>Model Calibration</title>
<p>Next, we will find a compromise between the different metrics and search for the parameter values for which a given model best fits simultaneously the various statistical properties. To do so, we define an overall error Err to quantify the difference between the networks generated with the model and the empirical ones. The parameters of the model are then explored to find the values that minimize Err. We measure the error <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e036" xlink:type="simple"/></inline-formula> for each property <italic>X</italic> and take the average over all the properties<disp-formula id="pone.0092196.e037"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e037" xlink:type="simple"/><label>(4)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e038" xlink:type="simple"/></inline-formula> is the total number of nodes in connected components of the network and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e039" xlink:type="simple"/></inline-formula> is the undirected local clustering coefficient averaged over the <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e040" xlink:type="simple"/></inline-formula> connected nodes. The local clustering coefficient of a node <italic>i</italic> is defined as the ratio between number of closed triads centered on node <italic>i</italic> and the total number of triads centered on that node.</p>
<p>The properties <italic>X</italic> integrating Err can be scalars, functions or distributions and encompass different orders of magnitude. We define the error of a property <italic>X</italic> as<disp-formula id="pone.0092196.e041"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e041" xlink:type="simple"/><label>(5)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e042" xlink:type="simple"/></inline-formula> is the <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e043" xlink:type="simple"/></inline-formula>-th observed value of the property <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e044" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e045" xlink:type="simple"/></inline-formula> is the corresponding <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e046" xlink:type="simple"/></inline-formula>-th value of the property obtained by the model. In the case of a distribution, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e047" xlink:type="simple"/></inline-formula> runs over the <italic>n</italic> measured bins, while for a scalar (such as the number of nodes or the clustering coefficient) the sum has only one term.</p>
<p>We perform a Latin square sampling of the parameter space of <italic>p</italic><sub>v</sub> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e048" xlink:type="simple"/></inline-formula> as shown in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> in order to find the minimum value of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e049" xlink:type="simple"/></inline-formula>. The parameter space is covered uniformly in a linear scale for <italic>p</italic><sub>v</sub> and in a logarithmic one for <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e050" xlink:type="simple"/></inline-formula>. For all the countries, the minimum value of the error is obtained for <italic>p</italic><sub>v</sub> in the interval <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e051" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e052" xlink:type="simple"/></inline-formula> in the range <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e053" xlink:type="simple"/></inline-formula>. The values of Err found at the minimum are <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e054" xlink:type="simple"/></inline-formula> for the US, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e055" xlink:type="simple"/></inline-formula> for the UK and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e056" xlink:type="simple"/></inline-formula> for Germany. For simplicity, we focus on the Twitter networks only, although similar results are obtained for the other datasets.</p>
<fig id="pone-0092196-g003" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g003</object-id><label>Figure 3</label><caption>
<title>Fitting the TF model.</title>
<p>Values of the error Err when <italic>p</italic><sub>v</sub> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e057" xlink:type="simple"/></inline-formula> are changed. The minimum error for each of the plots is marked with a red rectangle.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g003" position="float" xlink:type="simple"/></fig></sec></sec><sec id="s3">
<title>Results</title>
<sec id="s3a">
<title>Simulations for the Optimal Parameters</title>
<p>An example with the displacements between the consecutive locations and the ego networks for a sample of individuals, as generated by the TF model, are displayed in <xref ref-type="fig" rid="pone-0092196-g004">Figure 4</xref>. The parameters of the model are set to the ones that correspond to the minimum of the error Err. As shown, the agents tend to stay close to their original positions. Occasional long jumps occur due to friend visits that live far apart. In this range of parameters and simulation times, the main mechanism for generating long distance connections is random linking (controlled by <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e058" xlink:type="simple"/></inline-formula>). Agents typically return back to their original positions because this is where most of their contacts live. The frequency of the long distance jumps and connections varies for the three countries due to the different spatial distribution of the user populations. In the ego networks, the presence of multiple triangles with long distance edges can be observed.</p>
<fig id="pone-0092196-g004" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g004</object-id><label>Figure 4</label><caption>
<title>Simulation results: mobility and social networks.</title>
<p>Mobility (upper row) and ego networks (lower row) of 20 random users (different colors) for the instances of the TF model yielding the lowest error Err (see <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref>). Mobility network shows mobility patterns of individual users throughout entire simulation. Ego network shows the social connections at the end of the simulation.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g004" position="float" xlink:type="simple"/></fig>
<p>The geo-social properties of the networks generated by the TF model are shown in <xref ref-type="fig" rid="pone-0092196-g005">Figure 5</xref> for the US and in <xref ref-type="supplementary-material" rid="pone.0092196.s003">Figures S3</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s004">S4</xref> for the UK and Germany, respectively. Additionally, we show how each of the introduced properties contributes to the total error of the model in <xref ref-type="supplementary-material" rid="pone.0092196.s009">Table S1</xref>. The model is able to reproduce the trends in the probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e059" xlink:type="simple"/></inline-formula>, the reciprocity <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e060" xlink:type="simple"/></inline-formula>, the social overlap <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e061" xlink:type="simple"/></inline-formula> and the disparity distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e062" xlink:type="simple"/></inline-formula> with good accuracy. The difficulties encountered with the degree distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e063" xlink:type="simple"/></inline-formula> and the clustering as a function of the distance <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e064" xlink:type="simple"/></inline-formula> are not unexpected since the model does not incorporate mechanisms to explicitly enhance the heterogeneity in the agents’ contacts nor favor any specific dependence of the clustering on the distance. We have tested variants of the TF model in which connections are created using the preferential attachment rule. The overall fitting error for these variants of the model is not lower than for the basic TF model, as we show in <xref ref-type="supplementary-material" rid="pone.0092196.s010">Appendix S1</xref>.</p>
<fig id="pone-0092196-g005" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g005</object-id><label>Figure 5</label><caption>
<title>Geo-social properties of the model networks.</title>
<p>Various statistical properties are plotted for the networks obtained from Twitter data (red squares) and from simulation of the TF model (black line) for the US. Corresponding results for the UK and Germany can be found in <xref ref-type="supplementary-material" rid="pone.0092196.s003">Figures S3</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s004">S4</xref>.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g005" position="float" xlink:type="simple"/></fig></sec><sec id="s3b">
<title>Insights of the TF Model</title>
<p>In this section we explore two null models uncoupling mobility and social interactions to help us interpret the mechanisms acting in the TF model. The first null model, the spatial model (S model), is based solely on the geography and consists of randomly connecting pair of users with a probability depending on the distance, but does not take network structure into account. The second null model, the linking model (L model), in contrast, is based only on random linking and triadic closure, and it is equivalent to the TF model without the mobility. We consider the two uncoupled null models and compare their results with those of the TF model. In this way, we demonstrate the importance of the coupling through a realistic mobility mechanism to reproduce the empirical networks.</p>
<p>The spatial model (S model) consists of randomly connecting pair of users with a probability that decays as power-law of the distance between them (suggested in <xref ref-type="bibr" rid="pone.0092196-Butts1">[41]</xref>). The exponent of the power-law is fixed at <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e065" xlink:type="simple"/></inline-formula> following <xref ref-type="fig" rid="pone-0092196-g002">Figure 2A</xref>. The results of the S model are shown in the panels of <xref ref-type="fig" rid="pone-0092196-g002">Figure 2</xref>. While it is set to match <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e066" xlink:type="simple"/></inline-formula>, other properties such as <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e067" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e068" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e069" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e070" xlink:type="simple"/></inline-formula> or <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e071" xlink:type="simple"/></inline-formula> are not well reproduced. The S model fails to account for the high level of clustering and reciprocity in the empirical networks and for their dependence on the distance. The error Err of this null model is between <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e072" xlink:type="simple"/></inline-formula>–<inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e073" xlink:type="simple"/></inline-formula> for the three countries, around twice the error of the TF model (see <xref ref-type="fig" rid="pone-0092196-g006">Figure 6</xref>).</p>
<fig id="pone-0092196-g006" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g006</object-id><label>Figure 6</label><caption>
<title>Comparison of different models.</title>
<p>The minimal values of the error Err for the TF model, the two null models: spatial (S model) or linking (L model), and the TF model with normally or uniformly distributed travel distances.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g006" position="float" xlink:type="simple"/></fig>
<p>The linking model (L model) is a simplified version of the TF model, without random mobility and the box size <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e074" xlink:type="simple"/></inline-formula>. Agents move to visit their contacts with probability <italic>p</italic><sub>v</sub>, whereas with probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e075" xlink:type="simple"/></inline-formula> they do not perform any action. In this version of the model, users can connect only by random connections or when two of them coincide, visiting a common friend, which leads to triadic closure. These two processes do not depend on the distances between the users. A thorough description can be obtained with a mean-field approach (see the corresponding section). The results of the L model are shown in <xref ref-type="fig" rid="pone-0092196-g002">Figure 2</xref>. Due to the triangle closing mechanism, this null model creates networks with a considerable level of clustering. However, it does not reproduce the distance dependencies of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e076" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e077" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e078" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e079" xlink:type="simple"/></inline-formula>. The error Err of the L model is also around twice higher than the error of the TF model (see <xref ref-type="fig" rid="pone-0092196-g006">Figure 6</xref>).</p>
<p>The geography and the structure are coupled in the TF model through the random mobility. Changes in the underlying mobility mechanism affect the quality of the results. The lowest Err values are obtained with the power-law distribution in the jump lengths, while normal or uniformly distributed jumps yield worse results (e.g., for the US the TF model has Err lower by <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e080" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e081" xlink:type="simple"/></inline-formula> than the TF-normal and the TF-uniform models, respectively, as shown in <xref ref-type="fig" rid="pone-0092196-g006">Figure 6</xref>).</p>
<p>Simplified models that neglect either geography or network structure perform considerably worse than the TF model in reproducing the properties of real networks. Likewise, non-realistic assumptions on human mobility mechanism yield worse results than the default TF model. To conclude, the coupling of geography and structure through a realistic mobility mechanism produces networks with significantly more realistic geographic and structural properties.</p>
</sec><sec id="s3c">
<title>Sensitivity of the TF Model to the Parameters and its Modifications</title>
<p>The results presented so far have been obtained at the optimal values of <italic>p</italic><sub>v</sub> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e082" xlink:type="simple"/></inline-formula>. The question remains, however, of how robust these results are to changes in the values of the parameters. In <xref ref-type="fig" rid="pone-0092196-g007">Figure 7</xref>, we report the effect of varying <italic>p</italic><sub>v</sub> while <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e083" xlink:type="simple"/></inline-formula> is maintained constant in its optimal value. The linking probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e084" xlink:type="simple"/></inline-formula> loses its power-law shape for very low values of <italic>p</italic><sub>v</sub>, marking the limit in which random mobility is the main mechanism for the agents’ traveling in detriment of friend visits. In this case, most of the links are created due to encounters occurring in nearby locations or are random connections, and so the distribution of triangles disparity <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e085" xlink:type="simple"/></inline-formula> loses its bimodal shape. Furthermore, the friend visits provide opportunities to reciprocate the connections. This is why for extremely low values of <italic>p</italic><sub>v</sub>, the reciprocity <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e086" xlink:type="simple"/></inline-formula> is close to zero. Towards the other limit, <italic>i.e.</italic>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e087" xlink:type="simple"/></inline-formula> the social overlap <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e088" xlink:type="simple"/></inline-formula> and the triangle-closing probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e089" xlink:type="simple"/></inline-formula> steadily increase. In this limit, the linking probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e090" xlink:type="simple"/></inline-formula>, the reciprocity <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e091" xlink:type="simple"/></inline-formula> and the distribution of triangles disparity <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e092" xlink:type="simple"/></inline-formula> recuperate their shapes of the optimum.</p>
<fig id="pone-0092196-g007" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g007</object-id><label>Figure 7</label><caption>
<title>Impact of <italic>p</italic><sub>v</sub> on the TF model.</title>
<p>We change the value of <italic>p</italic><sub>v</sub> while keeping <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e099" xlink:type="simple"/></inline-formula> fixed to the optimal value. Note that this corresponds to an exploration of the parameter space along the vertical line crossing the minimum of Err as plotted in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> for the US. Corresponding results for the UK and Germany can be found in <xref ref-type="supplementary-material" rid="pone.0092196.s005">Figures S5</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s006">S6</xref>.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g007" position="float" xlink:type="simple"/></fig>
<p><xref ref-type="fig" rid="pone-0092196-g008">Figure 8</xref> explores the impact of varying <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e093" xlink:type="simple"/></inline-formula> while <italic>p</italic><sub>v</sub> is fixed to its optimal value. The effect of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e094" xlink:type="simple"/></inline-formula> on <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e095" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e096" xlink:type="simple"/></inline-formula> is the opposite to that of <italic>p</italic><sub>v</sub>: these metrics decrease at all distances with increasing <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e097" xlink:type="simple"/></inline-formula>. The reason for this is that visits to friends are the main forces behind the creation of new triads and the subsequent closure of triangles. Note that the more connections are created randomly (higher <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e098" xlink:type="simple"/></inline-formula>), the less links will be a result of friend visits. We will expose and describe in detail the interplay between these two mechanisms in the mean-field calculations.</p>
<fig id="pone-0092196-g008" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g008</object-id><label>Figure 8</label><caption>
<title>Impact of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e102" xlink:type="simple"/></inline-formula> on the TF model.</title>
<p>We change the value of <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e103" xlink:type="simple"/></inline-formula> while keeping <italic>p</italic><sub>v</sub> fixed to its optimal value. Note that this corresponds to an exploration of the parameter space along the horizontal line crossing the minimum of Err as plotted in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> for the US. Corresponding results for the UK and Germany can be found in <xref ref-type="supplementary-material" rid="pone.0092196.s007">Figure S7</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s008">S8</xref>.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g008" position="float" xlink:type="simple"/></fig>
<p>A possible variation of the TF model consists of eliminating friend visits or random connections (<italic>i.e.</italic>, setting <italic>p</italic><sub>v</sub> or <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e100" xlink:type="simple"/></inline-formula> to 0). This prevents the model from producing networks with characteristics comparable to the real ones in all the cases, leading to increase in Err of around 0.5. Interestingly, the model results are quite robust to variations in the update rules, the random connection mechanism, the connecting rules in each agent neighborhood and the variants in the way users visit friends. These variations lead to changes in Err smaller than 0.1. A detailed discussion of the results with different model variants is included in <xref ref-type="supplementary-material" rid="pone.0092196.s010">Appendix S1</xref>.</p>
</sec><sec id="s3d">
<title>Mean-field Approach</title>
<p>In this section, we consider the L model, introduced earlier in this section, to gain some analytical insights on the mechanisms ruling the final network structure. Although this model is a simplified version of the TF model, the results of the simulations yield a relatively low value of Err (<xref ref-type="fig" rid="pone-0092196-g006">Figures 6</xref>, and <xref ref-type="supplementary-material" rid="pone.0092196.s009">Figures S9</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s010">S10</xref> in <xref ref-type="supplementary-material" rid="pone.0092196.s010">Appendix S1</xref>). We write the equations for the time evolution of the properties of the network and solve them numerically. Among all the properties, we focus on the average clustering coefficient <italic>C</italic>, the overall reciprocity <italic>R</italic> and the degree distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e101" xlink:type="simple"/></inline-formula>.</p>
<p>The clustering coefficient is defined as a ratio of all the closed triads to all triads existing in the network, <italic>i.e.</italic>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e104" xlink:type="simple"/></inline-formula>. The number of triads <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e105" xlink:type="simple"/></inline-formula> can be calculated knowing the degree distribution. The number of closed triads <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e106" xlink:type="simple"/></inline-formula> in the L model grows with time mostly due to the friend visits mechanism. A triangle is formed every time two friends of the same hosting agent meet in the host’s place and decide to connect. Note that an undirected triangle corresponds to 3 undirected closed triads. Assuming that the contribution of random links is negligible, the evolution of the number of closed triads is described by<disp-formula id="pone.0092196.e107"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e107" xlink:type="simple"/><label>(6)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e108" xlink:type="simple"/></inline-formula>, meaning that we do not distinguish between in-degree and out-degree; <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e109" xlink:type="simple"/></inline-formula> represents the number of nodes with the degree higher than 0, <italic>i.e.</italic>, the number of potential hosts, <italic>M</italic> is an estimate of the lower bound for the number of triangles closed by one closing link <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e110" xlink:type="simple"/></inline-formula>. Finally, <italic>S</italic> is the expected number of encounters per host, which can be calculated as<disp-formula id="pone.0092196.e111"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e111" xlink:type="simple"/><label>(7)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e112" xlink:type="simple"/></inline-formula> is the number of nodes with a given degree k in the network. Finally, note that the above definition of degree and the one obtained from symmetrizing directed networks (used in previous sections) are related by a proportionality factor <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e113" xlink:type="simple"/></inline-formula>.</p>
<p>The reciprocity of connections <italic>R</italic> can be expressed as <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e114" xlink:type="simple"/></inline-formula>, where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e115" xlink:type="simple"/></inline-formula> is the number of reciprocated links, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e116" xlink:type="simple"/></inline-formula> is the number of non-reciprocated links and the total number of links <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e117" xlink:type="simple"/></inline-formula>. The numbers of links evolve as<disp-formula id="pone.0092196.e118"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e118" xlink:type="simple"/><label>(8)</label></disp-formula></p>
<p><disp-formula id="pone.0092196.e119"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e119" xlink:type="simple"/><label>(9)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e120" xlink:type="simple"/></inline-formula> corresponds to the probability that an agent visiting a neighbor gets her connection reciprocated (their connection is initially single directional). As can be seen, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e121" xlink:type="simple"/></inline-formula>, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e122" xlink:type="simple"/></inline-formula> and <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e123" xlink:type="simple"/></inline-formula> are mutually dependent.</p>
<p>To calculate the degree distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e124" xlink:type="simple"/></inline-formula>, we estimate the probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e125" xlink:type="simple"/></inline-formula> of a node to increase its degree by one unit in the current time step due to multiple encounters with friends of her friends<disp-formula id="pone.0092196.e126"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e126" xlink:type="simple"/><label>(10)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e127" xlink:type="simple"/></inline-formula>. In the L model, however, every node can increase its degree by multiple links in each time step. For simplicity, we neglect higher order terms induced by the possibility of creating multiple links. Moreover, we note that <xref ref-type="disp-formula" rid="pone.0092196.e126">Equation (10</xref>) is a good estimate if there is not a strong correlation between node degrees. The number of nodes of certain degree <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e128" xlink:type="simple"/></inline-formula> is given by<disp-formula id="pone.0092196.e129"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e129" xlink:type="simple"/><label>(11)</label></disp-formula>where <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e130" xlink:type="simple"/></inline-formula> is an estimate of the probability that the node degree increases, <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e131" xlink:type="simple"/></inline-formula> is the number of nodes with 0 out-degree and non-zero in-degree. Such nodes are important because their connection can be easily reciprocated as a result of a friend visit. However, these nodes are not counted directly into <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e132" xlink:type="simple"/></inline-formula>, and so a correction is needed to account for them explicitly, as in <xref ref-type="disp-formula" rid="pone.0092196.e129">Equation (11</xref>). The number of such nodes can be calculated as</p>
<p><disp-formula id="pone.0092196.e133"><graphic position="anchor" xlink:href="info:doi/10.1371/journal.pone.0092196.e133" xlink:type="simple"/><label>(12)</label></disp-formula>The numerical solution of this set of equations describing the evolution of the L model is shown in <xref ref-type="fig" rid="pone-0092196-g009">Figure 9</xref>. The equations accurately predict the dynamics of the clustering coefficient <italic>C</italic>, the reciprocity <italic>R</italic> and the degree distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e134" xlink:type="simple"/></inline-formula> for certain values of the parameters (<italic>i.e.</italic>, for medium and high values of <italic>p</italic><sub>c</sub>, as in the lower plots of <xref ref-type="fig" rid="pone-0092196-g009">Figure 9</xref>). The approximation yields slightly worse results when the number of random connections is small in comparison with the number of connections created due to friend visits (<italic>i.e.</italic>, for low values of <italic>p</italic><sub>c</sub>, as in the upper plots of <xref ref-type="fig" rid="pone-0092196-g009">Figure 9B</xref>). In the latter case, neither the degree distribution is well approximated, probably due to the degree-degree correlations introduced through the friend visit mechanism.</p>
<fig id="pone-0092196-g009" position="float"><object-id pub-id-type="doi">10.1371/journal.pone.0092196.g009</object-id><label>Figure 9</label><caption>
<title>Mean-field approximation.</title>
<p>Predictions of the analysis versus results of the simulation of the L model for the clustering coefficient <italic>C</italic>, the reciprocity <italic>R</italic> and the degree distribution <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e135" xlink:type="simple"/></inline-formula>. In this case, we are taking the users from the UK and Germany because their lower numbers facilitate the numerical integration of the <xref ref-type="disp-formula" rid="pone.0092196.e107">Equations 6</xref>, <xref ref-type="disp-formula" rid="pone.0092196.e118">8</xref>, <xref ref-type="disp-formula" rid="pone.0092196.e119">9</xref>, <xref ref-type="disp-formula" rid="pone.0092196.e129">11</xref> and <xref ref-type="disp-formula" rid="pone.0092196.e133">12</xref>.</p>
</caption><graphic mimetype="image" xlink:href="info:doi/10.1371/journal.pone.0092196.g009" position="float" xlink:type="simple"/></fig>
<p>The mean-field analysis of the L model shows that the friend visiting mechanism is a direct cause of triangle closure and link reciprocity. <xref ref-type="disp-formula" rid="pone.0092196.e107">Equation 6</xref>, which estimates the growth of the number of triangles in the network, accounts only for the friend visiting mechanism; yet it approximates closely the value of the clustering coefficient, also when <italic>p</italic><sub>c</sub>, which controls the mechanism of random connections, is high. Similarly, <xref ref-type="disp-formula" rid="pone.0092196.e118">Equation 8</xref>, which estimates the growth of the number of reciprocated connections, accounts for the friend visiting mechanism and approximates well the value of reciprocity.</p>
</sec></sec><sec id="s4">
<title>Discussion</title>
<p>We introduce a model that couples human mobility and link creation in social networks. The aim is to characterize the relation between network topology and geography observed in empirical online networks. The model has two free parameters <italic>p</italic><sub>c</sub> and <italic>p</italic><sub>v</sub> but, despite its simplicity, it is able to reproduce a good number of geo-social features observed in real data at a country level. Comparing the TF model with simplified null models, we find that the coupling of geography and structure through a realistic mobility mechanism produces significantly more realistic social networks than the uncoupled models.</p>
<p>Social links in our model are formed mostly with relational (due to triadic closure), and proximity (through spatio-temporal coincidences) mechanisms <xref ref-type="bibr" rid="pone.0092196-Rivera1">[48]</xref>. Visiting friends helps to reinforce the existing relations and favors the closure of triads with particular properties regarding the distance balance of their edges. Random link creation accounts for online acquaintances or for historical face-to-face encounters as individuals move their residence from one city to another. Finally, individual random mobility allows the agents to explore new locations. We expect that in our model the number of unique locations visited over time grow linearly in time, due to the fact that with constant probability <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e136" xlink:type="simple"/></inline-formula> an agent jumps to a new location, as opposed to slower growth reported in <xref ref-type="bibr" rid="pone.0092196-Song1">[4]</xref>. We leave the exploration of temporal aspects of our model for the future research. Our results show that by establishing an appropriate balance between friend visits and random link creation, the model can reproduce the main features of online social networks, e.g., we show that <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e137" xlink:type="simple"/></inline-formula> of the mobility has to be directed towards existing friends. We demonstrate that these are the fundamental mechanisms at play in the model.</p>
<p>The TF model is generic and functional for different datasets. Human mobility driven by social ties has impact on the modeling of disease spreading, and may improve its predictions. This model can also be used in simulations of processes that involve social networks and geography, e.g., simulations of opinion formation, language evolution, or responses of a population to extreme events. Moreover, it can also be helpful to design network benchmarks with realistic geo-social properties to test, for instance, the scalability of technical solutions in social online networks related to geography of its physical infrastructure.</p>
<sec id="s4a">
<title>Ethics Statement</title>
<p>The data analyzed are publicly available as they come from public online social sites or data repositories (Twitter, Gowalla and Brightkite). Since our analysis relies on statistical features and not on single cases, any private information about users had been removed and the analysis was performed on anonymized datasets.</p>
</sec></sec><sec id="s5">
<title>Supporting Information</title>
<supplementary-material id="pone.0092196.s001" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s001" position="float" xlink:type="simple"><label>Figure S1</label><caption>
<p><bold>Network geo-social properties.</bold> Various statistical network properties are plotted for the data obtained from Twitter (red squares), Gowalla (blue diamonds), Brightkite (green triangles) and the null models (dashed lines), for the UK.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s002" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s002" position="float" xlink:type="simple"><label>Figure S2</label><caption>
<p><bold>Network geo-social properties.</bold> Various statistical network properties are plotted for the data obtained from Twitter (red squares), Gowalla (blue diamonds), Brightkite (green triangles) and the null models (dashed lines), for Germany.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s003" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s003" position="float" xlink:type="simple"><label>Figure S3</label><caption>
<p><bold>Geo-social properties of the model networks.</bold> Various statistical properties are plotted for the networks obtained from Twitter data (red squares) and from simulation of the TF model (black line) for the UK.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s004" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s004" position="float" xlink:type="simple"><label>Figure S4</label><caption>
<p><bold>Geo-social properties of the model networks.</bold> Various statistical properties are plotted for the networks obtained from Twitter data (red squares) and from simulation of the TF model (black line) for Germany.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s005" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s005" position="float" xlink:type="simple"><label>Figure S5</label><caption>
<p><bold>Impact of </bold><bold><italic>p</italic></bold><bold><sub>v</sub> on the TF model.</bold> We change the value of <italic>p</italic><sub>v</sub> while keeping <italic>p</italic><sub>c</sub> fixed to the optimal value. Note that this corresponds to an exploration of the parameter space along the vertical line crossing the minimum of Err as plotted in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> for the UK.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s006" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s006" position="float" xlink:type="simple"><label>Figure S6</label><caption>
<p><bold>Impact of </bold><bold><italic>p</italic></bold><bold><sub>v</sub> on the TF model.</bold> We change the value of <italic>p</italic><sub>v</sub> while keeping <italic>p</italic><sub>c</sub> fixed to the optimal value. Note that this corresponds to an exploration of the parameter space along the vertical line crossing the minimum of Err as plotted in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> for Germany.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s007" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s007" position="float" xlink:type="simple"><label>Figure S7</label><caption>
<p><bold>Impact of </bold><bold><italic>p</italic></bold><bold><sub>c</sub> on the TF model.</bold> We change the value of <italic>p</italic><sub>c</sub> while keeping <italic>p</italic><sub>v</sub> fixed to its optimal value. Note that this corresponds to an exploration of the parameter space along the horizontal line crossing the minimum of Err as plotted in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> for the UK.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s008" mimetype="application/postscript" xlink:href="info:doi/10.1371/journal.pone.0092196.s008" position="float" xlink:type="simple"><label>Figure S8</label><caption>
<p><bold>Impact of </bold><bold><italic>p</italic></bold><bold><sub>c</sub> on the TF model.</bold> We change the value of <italic>p</italic><sub>c</sub> while keeping <italic>p</italic><sub>v</sub> fixed to its optimal value. Note that this corresponds to an exploration of the parameter space along the horizontal line crossing the minimum of Err as plotted in <xref ref-type="fig" rid="pone-0092196-g003">Figure 3</xref> for Germany.</p>
<p>(EPS)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s009" mimetype="application/pdf" xlink:href="info:doi/10.1371/journal.pone.0092196.s009" position="float" xlink:type="simple"><label>Table S1</label><caption>
<p><bold>The contribution of each of the properties to the total error of the TF model.</bold> Value of the error <inline-formula><inline-graphic xlink:href="info:doi/10.1371/journal.pone.0092196.e138" xlink:type="simple"/></inline-formula> per property <italic>X</italic> at the minimum of the total error Err for Twitter for the three considered countries.</p>
<p>(PDF)</p>
</caption></supplementary-material><supplementary-material id="pone.0092196.s010" mimetype="application/pdf" xlink:href="info:doi/10.1371/journal.pone.0092196.s010" position="float" xlink:type="simple"><label>Appendix S1</label><caption>
<p><bold>Variants of the TF model.</bold> In this appendix, we consider several variants of the TF model and the L model and evaluate their results. <xref ref-type="supplementary-material" rid="pone.0092196.s010">Appendix S1</xref> contains <xref ref-type="supplementary-material" rid="pone.0092196.s009">Figures S9</xref> and <xref ref-type="supplementary-material" rid="pone.0092196.s010">S10</xref>.</p>
<p>(PDF)</p>
</caption></supplementary-material></sec></body>
<back>
<ack>
<p>We would like to warmly thank Luis F. Lafuerza for helpful discussions on the analytical treatment of the model.</p>
</ack>
<ref-list>
<title>References</title>
<ref id="pone.0092196-Lazer1"><label>1</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lazer</surname><given-names>D</given-names></name>, <name name-style="western"><surname>Pentland</surname><given-names>A</given-names></name>, <name name-style="western"><surname>Adamic</surname><given-names>L</given-names></name>, <name name-style="western"><surname>Aral</surname><given-names>S</given-names></name>, <name name-style="western"><surname>Barabasi</surname><given-names>AL</given-names></name>, <etal>et al</etal>. (<year>2009</year>) <article-title>Computational social science</article-title>. <source>Science</source> <volume>323</volume>: <fpage>721</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Brockmann1"><label>2</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Brockmann</surname><given-names>D</given-names></name>, <name name-style="western"><surname>Hufnagel</surname><given-names>L</given-names></name>, <name name-style="western"><surname>Geisel</surname><given-names>T</given-names></name> (<year>2006</year>) <article-title>The scaling laws of human travel</article-title>. <source>Nature</source> <volume>439</volume>: <fpage>462</fpage>–<lpage>5</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Gonzlez1"><label>3</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>González</surname><given-names>MC</given-names></name>, <name name-style="western"><surname>Hidalgo</surname><given-names>CA</given-names></name>, <name name-style="western"><surname>Barabási</surname><given-names>AL</given-names></name> (<year>2008</year>) <article-title>Understanding individual human mobility patterns</article-title>. <source>Nature</source> <volume>453</volume>: <fpage>779</fpage>–<lpage>82</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Song1"><label>4</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Song</surname><given-names>C</given-names></name>, <name name-style="western"><surname>Koren</surname><given-names>T</given-names></name>, <name name-style="western"><surname>Wang</surname><given-names>P</given-names></name>, <name name-style="western"><surname>Barabási</surname><given-names>AL</given-names></name> (<year>2010</year>) <article-title>Modelling the scaling properties of human mobility</article-title>. <source>Nature Physics</source> <volume>6</volume>: <fpage>818</fpage>–<lpage>823</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Kwak1"><label>5</label>
<mixed-citation publication-type="other" xlink:type="simple">Kwak H, Lee C, Park H, Moon S (2010) What is Twitter, a social network or a news media? Proceedings of the 19th international conference on World Wide Web - WWW '10, p.591–600.</mixed-citation>
</ref>
<ref id="pone.0092196-Mislove1"><label>6</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Mislove</surname><given-names>A</given-names></name>, <name name-style="western"><surname>Koppula</surname><given-names>HS</given-names></name>, <name name-style="western"><surname>Gummadi</surname><given-names>KP</given-names></name>, <name name-style="western"><surname>Druschel</surname><given-names>P</given-names></name>, <name name-style="western"><surname>Bhattacharjee</surname><given-names>B</given-names></name> (<year>2008</year>) <article-title>Growth of the ickr social network</article-title>. <source>Proceedings of the first workshop on Online Social Networks - WOSP '</source> <volume>08</volume>: <fpage>25</fpage>–<lpage>30</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Miritello1"><label>7</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Miritello</surname><given-names>G</given-names></name>, <name name-style="western"><surname>Moro</surname><given-names>E</given-names></name>, <name name-style="western"><surname>Lara</surname><given-names>R</given-names></name>, <name name-style="western"><surname>Martínez-López</surname><given-names>R</given-names></name>, <name name-style="western"><surname>Belchamber</surname><given-names>J</given-names></name>, <etal>et al</etal>. (<year>2013</year>) <article-title>Time as a limited resource: Communication strategy in mobile phone networks</article-title>. <source>Social Networks</source> <volume>35</volume>: <fpage>89</fpage>–<lpage>95</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Gonalves1"><label>8</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Gonçalves</surname><given-names>B</given-names></name>, <name name-style="western"><surname>Perra</surname><given-names>N</given-names></name>, <name name-style="western"><surname>Vespignani</surname><given-names>A</given-names></name> (<year>2011</year>) <article-title>Modeling users’ activity on twitter networks: Validation of Dunbar’s number</article-title>. <source>PLoS ONE</source> <volume>6</volume>: <fpage>e22656</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Bakshy1"><label>9</label>
<mixed-citation publication-type="other" xlink:type="simple">Bakshy E, Rosenn I, Marlow C, Adamic L (2012) The role of social networks in information diffusion. Proceedings of the 21st international conference on World Wide Web - WWW ′12, 519–528.</mixed-citation>
</ref>
<ref id="pone.0092196-Ugander1"><label>10</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Ugander</surname><given-names>J</given-names></name>, <name name-style="western"><surname>Backstrom</surname><given-names>L</given-names></name>, <name name-style="western"><surname>Marlow</surname><given-names>C</given-names></name>, <name name-style="western"><surname>Kleinberg</surname><given-names>J</given-names></name> (<year>2012</year>) <article-title>Structural diversity in social contagion</article-title>. <source>Proc Natl Acad Sci (USA)</source> <volume>109</volume>: <fpage>5962</fpage>–<lpage>5966</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Leskovec1"><label>11</label>
<mixed-citation publication-type="other" xlink:type="simple">Leskovec J, Backstrom L, Kleinberg J (2009) Meme-tracking and the dynamics of the news cycle. Proceedings of the 15th ACM SIGKDD international conference on knowledge discovery and data mining - KDD ′09, p.497–506.</mixed-citation>
</ref>
<ref id="pone.0092196-Lehmann1"><label>12</label>
<mixed-citation publication-type="other" xlink:type="simple">Lehmann J, Gonçalves B, Ramasco JJ, Cattuto C (2012) Dynamical classes of collective attention in Twitter. Proceedings of the 21st international conference on World Wide Web - WWW ′12. p.251–260.</mixed-citation>
</ref>
<ref id="pone.0092196-Grabowicz1"><label>13</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Grabowicz</surname><given-names>PA</given-names></name>, <name name-style="western"><surname>Ramasco</surname><given-names>JJ</given-names></name>, <name name-style="western"><surname>Moro</surname><given-names>E</given-names></name>, <name name-style="western"><surname>Pujol</surname><given-names>JM</given-names></name>, <name name-style="western"><surname>Eguíluz</surname><given-names>VM</given-names></name> (<year>2012</year>) <article-title>Social features of online networks: the strength of intermediary ties in online social media</article-title>. <source>PLoS ONE</source> <volume>7</volume>: <fpage>e29358</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Grabowicz2"><label>14</label>
<mixed-citation publication-type="other" xlink:type="simple">Grabowicz PA, Aiello LM, Eguíluz VM, Jaimes A (2013) Distinguishing topical and social groups based on common identity and bond theory. Proceedings of the sixth ACM international conference on Web search and data mining - WSDM ′13, p.627–636.</mixed-citation>
</ref>
<ref id="pone.0092196-Ferrara1"><label>15</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Ferrara</surname><given-names>E</given-names></name> (<year>2012</year>) <article-title>A large-scale community structure analysis in Facebook</article-title>. <source>EPJ Data Science</source> <volume>1</volume>: <fpage>9</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-BorgeHolthoefer1"><label>16</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Borge-Holthoefer</surname><given-names>J</given-names></name>, <name name-style="western"><surname>Rivero</surname><given-names>A</given-names></name>, <name name-style="western"><surname>García</surname><given-names>I</given-names></name>, <name name-style="western"><surname>Cauhé</surname><given-names>E</given-names></name>, <name name-style="western"><surname>Ferrer</surname><given-names>A</given-names></name>, <etal>et al</etal>. (<year>2011</year>) <article-title>Structural and dynamical patterns on online social networks: The Spanish may 15th movement as a case study</article-title>. <source>PLoS ONE</source> <volume>6</volume>: <fpage>e23883</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-GonzlezBailn1"><label>17</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>González-Bailón</surname><given-names>M</given-names></name>, <name name-style="western"><surname>Borge-Holthoefer</surname><given-names>J</given-names></name>, <name name-style="western"><surname>Rivero</surname><given-names>A</given-names></name>, <name name-style="western"><surname>Moreno</surname><given-names>Y</given-names></name> (<year>2011</year>) <article-title>The dynamics of protest recruitment through an online network</article-title>. <source>Scientific Reports</source> <volume>1</volume>: <fpage>197</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Conover1"><label>18</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Conover</surname><given-names>MD</given-names></name>, <name name-style="western"><surname>Davis</surname><given-names>C</given-names></name>, <name name-style="western"><surname>Ferrara</surname><given-names>E</given-names></name>, <name name-style="western"><surname>McKelvey</surname><given-names>K</given-names></name>, <name name-style="western"><surname>Menczer</surname><given-names>F</given-names></name>, <etal>et al</etal>. (<year>2013</year>) <article-title>The geospatial character-istics of a social movement communication network</article-title>. <source>PLoS ONE</source> <volume>8</volume>: <fpage>e55957</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Lambiotte1"><label>19</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lambiotte</surname><given-names>R</given-names></name>, <name name-style="western"><surname>Blondel</surname><given-names>V</given-names></name>, <name name-style="western"><surname>Dekerchove</surname><given-names>C</given-names></name>, <name name-style="western"><surname>Huens</surname><given-names>E</given-names></name>, <name name-style="western"><surname>Prieur</surname><given-names>C</given-names></name>, <etal>et al</etal>. (<year>2008</year>) <article-title>Geographical dispersal of mobile communication networks</article-title>. <source>Physica A: Statistical Mechanics and its Applications</source> <volume>387</volume>: <fpage>5317</fpage>–<lpage>5325</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Krings1"><label>20</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Krings</surname><given-names>G</given-names></name>, <name name-style="western"><surname>Calabrese</surname><given-names>F</given-names></name>, <name name-style="western"><surname>Ratti</surname><given-names>C</given-names></name>, <name name-style="western"><surname>Blondel</surname><given-names>VD</given-names></name> (<year>2009</year>) <article-title>Urban gravity: A model for inter-city telecom-munication ows</article-title>. <source>Journal of Statistical Mechanics: Theory and Experiment</source> <volume>2009</volume>: <fpage>L07003</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Phithakkitnukoon1"><label>21</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Phithakkitnukoon</surname><given-names>S</given-names></name>, <name name-style="western"><surname>Smoreda</surname><given-names>Z</given-names></name>, <name name-style="western"><surname>Olivier</surname><given-names>P</given-names></name> (<year>2012</year>) <article-title>Socio-geography of human mobility: A study using longitudinal mobile phone data</article-title>. <source>PLoS ONE</source> <volume>7</volume>: <fpage>e39253</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-LibenNowell1"><label>22</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Liben-Nowell</surname><given-names>D</given-names></name>, <name name-style="western"><surname>Novak</surname><given-names>J</given-names></name>, <name name-style="western"><surname>Kumar</surname><given-names>R</given-names></name>, <name name-style="western"><surname>Raghavan</surname><given-names>P</given-names></name>, <name name-style="western"><surname>Tomkins</surname><given-names>A</given-names></name> (<year>2005</year>) <article-title>Geographic routing in social networks</article-title>. <source>Proc Natl Acad Sci (USA)</source> <volume>102</volume>: <fpage>11623</fpage>–<lpage>11628</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Crandall1"><label>23</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Crandall</surname><given-names>DJ</given-names></name>, <name name-style="western"><surname>Backstrom</surname><given-names>L</given-names></name>, <name name-style="western"><surname>Cosley</surname><given-names>D</given-names></name>, <name name-style="western"><surname>Suri</surname><given-names>S</given-names></name>, <name name-style="western"><surname>Huttenlocher</surname><given-names>D</given-names></name>, <etal>et al</etal>. (<year>2010</year>) <article-title>Inferring social ties from geographic coincidences</article-title>. <source>Proc Natl Acad Sci (USA)</source> <volume>107</volume>: <fpage>22436</fpage>–<lpage>22441</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Gonzlez2"><label>24</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>González</surname><given-names>MC</given-names></name>, <name name-style="western"><surname>Lind</surname><given-names>PG</given-names></name>, <name name-style="western"><surname>Herrmann</surname><given-names>HJ</given-names></name> (<year>2006</year>) <article-title>System of mobile agents to model social networks</article-title>. <source>Phys Rev Lett</source> <volume>96</volume>: <fpage>088072</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Backstrom1"><label>25</label>
<mixed-citation publication-type="other" xlink:type="simple">Backstrom L, Sun E, Marlow C (2010) Find me if you can: Improving geographical prediction with social and spatial proximity. Proceedings of the 19th international conference on World Wide Web - WWW ′10, p.61–70.</mixed-citation>
</ref>
<ref id="pone.0092196-Scellato1"><label>26</label>
<mixed-citation publication-type="other" xlink:type="simple">Scellato S, Noulas A, Lambiotte R, Mascolo C (2011) Socio-spatial properties of online location-based social networks. Proceedings of the 5th international AAAI conference on weblogs and social media - ICWSM′11, p.329–336.</mixed-citation>
</ref>
<ref id="pone.0092196-Takhteyev1"><label>27</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Takhteyev</surname><given-names>Y</given-names></name>, <name name-style="western"><surname>Gruzd</surname><given-names>A</given-names></name>, <name name-style="western"><surname>Wellman</surname><given-names>B</given-names></name> (<year>2012</year>) <article-title>Geography of Twitter networks</article-title>. <source>Social Networks</source> <volume>34</volume>: <fpage>73</fpage>–<lpage>81</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Lu1"><label>28</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Lu</surname><given-names>X</given-names></name>, <name name-style="western"><surname>Bengtsson</surname><given-names>L</given-names></name>, <name name-style="western"><surname>Holme</surname><given-names>P</given-names></name> (<year>2012</year>) <article-title>Predictability of population displacement after the 2010 Haiti earthquake</article-title>. <source>Proc Natl Acad Sci (USA)</source> <volume>109</volume>: <fpage>11576</fpage>–<lpage>11581</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Volkovich1"><label>29</label>
<mixed-citation publication-type="other" xlink:type="simple">Volkovich Y, Scellato S, Laniado D, Mascolo C, Kaltenbrunner A (2012) The length of bridge ties: Structural and geographic properties of online social interactions. Proceedings of the 6th international AAAI conference on weblogs and social media - ICWSM ′12, p.346–353.</mixed-citation>
</ref>
<ref id="pone.0092196-Wang1"><label>30</label>
<mixed-citation publication-type="other" xlink:type="simple">Wang D, Pedreschi D, Song C, Giannotti F, Barabasi AL (2011) Human mobility, social ties, and link prediction. Proceedings of the 17th ACM SIGKDD international conference on knowledge discovery and data mining - KDD ′11, p.1100–1108.</mixed-citation>
</ref>
<ref id="pone.0092196-Cho1"><label>31</label>
<mixed-citation publication-type="other" xlink:type="simple">Cho E, Myers SA, Leskovec J (2011) Friendship and mobility: User movement in location-based social networks. Proceedings of the 17th ACM SIGKDD international conference on knowledge discovery and data mining - KDD ′11, p.1082–1090.</mixed-citation>
</ref>
<ref id="pone.0092196-Sadilek1"><label>32</label>
<mixed-citation publication-type="other" xlink:type="simple">Sadilek A, Kautz H, Bigham JP (2012) Finding your friends and following them to where you are. Proceedings of the fifth ACM international conference on Web search and data mining - WSDM ′12, p.723–732.</mixed-citation>
</ref>
<ref id="pone.0092196-Balcan1"><label>33</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Balcan</surname><given-names>D</given-names></name>, <name name-style="western"><surname>Colizza</surname><given-names>V</given-names></name>, <name name-style="western"><surname>Gonçalves</surname><given-names>B</given-names></name>, <name name-style="western"><surname>Hu</surname><given-names>H</given-names></name>, <name name-style="western"><surname>Ramasco</surname><given-names>JJ</given-names></name>, <etal>et al</etal>. (<year>2009</year>) <article-title>Multiscale mobility networks and the large scale spreading of infectious diseases</article-title>. <source>Proc Natl Acad Sci (USA)</source> <volume>106</volume>: <fpage>21484</fpage>–<lpage>21489</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Wang2"><label>34</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Wang</surname><given-names>P</given-names></name>, <name name-style="western"><surname>González</surname><given-names>MC</given-names></name>, <name name-style="western"><surname>Hidalgo</surname><given-names>CA</given-names></name>, <name name-style="western"><surname>Barabási</surname><given-names>AL</given-names></name> (<year>2009</year>) <article-title>Understanding the spreading patterns of mobile phone viruses</article-title>. <source>Science</source> <volume>324</volume>: <fpage>1071</fpage>–<lpage>1076</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Brockmann2"><label>35</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Brockmann</surname><given-names>D</given-names></name> (<year>2010</year>) <article-title>The physics of where to go</article-title>. <source>Nature Physics</source> <volume>6</volume>: <fpage>720</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Simini1"><label>36</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Simini</surname><given-names>F</given-names></name>, <name name-style="western"><surname>González</surname><given-names>MC</given-names></name>, <name name-style="western"><surname>Maritan</surname><given-names>A</given-names></name>, <name name-style="western"><surname>Barabási</surname><given-names>AL</given-names></name> (<year>2012</year>) <article-title>A universal model for mobility and migration patterns</article-title>. <source>Nature</source> <volume>484</volume>: <fpage>96</fpage>–<lpage>100</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Jia1"><label>37</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Jia</surname><given-names>T</given-names></name>, <name name-style="western"><surname>Jiang</surname><given-names>B</given-names></name>, <name name-style="western"><surname>Carling</surname><given-names>K</given-names></name>, <name name-style="western"><surname>Bolin</surname><given-names>M</given-names></name>, <name name-style="western"><surname>Ban</surname><given-names>Y</given-names></name> (<year>2012</year>) <article-title>An empirical study on human mobility and its agent-based modeling</article-title>. <source>Journal of Statistical Mechanics: Theory and Experiment</source> <volume>2012</volume>: <fpage>P11024</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Szell1"><label>38</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Szell</surname><given-names>M</given-names></name>, <name name-style="western"><surname>Sinatra</surname><given-names>R</given-names></name>, <name name-style="western"><surname>Petri</surname><given-names>G</given-names></name>, <name name-style="western"><surname>Thurner</surname><given-names>S</given-names></name>, <name name-style="western"><surname>Latora</surname><given-names>V</given-names></name> (<year>2012</year>) <article-title>Understanding mobility in a social petri dish</article-title>. <source>Scientific Reports</source> <volume>2</volume>: <fpage>457</fpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Hasan1"><label>39</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Hasan</surname><given-names>S</given-names></name>, <name name-style="western"><surname>Schneider</surname><given-names>CM</given-names></name>, <name name-style="western"><surname>Ukkusuri</surname><given-names>SV</given-names></name>, <name name-style="western"><surname>González</surname><given-names>MC</given-names></name> (<year>2013</year>) <article-title>Spatiotemporal patterns of urban human mobility</article-title>. <source>Journal of Statistical Physics</source> <volume>151</volume>: <fpage>304</fpage>–<lpage>318</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Giannotti1"><label>40</label>
<mixed-citation publication-type="other" xlink:type="simple">Giannotti F, Pappalardo L, Pedreschi D, Wang D (2013) Mobility data: Modeling, management, and understanding In: Renso C, Spaccapietra S, Zimańyi E, editors. Cambridge University Press.</mixed-citation>
</ref>
<ref id="pone.0092196-Butts1"><label>41</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Butts</surname><given-names>CT</given-names></name>, <name name-style="western"><surname>Acton</surname><given-names>RM</given-names></name>, <name name-style="western"><surname>Hipp</surname><given-names>JR</given-names></name>, <name name-style="western"><surname>Nagle</surname><given-names>NN</given-names></name> (<year>2012</year>) <article-title>Geographical variability and network structure</article-title>. <source>Social Networks</source> <volume>34</volume>: <fpage>82</fpage>–<lpage>100</lpage>.</mixed-citation>
</ref>
<ref id="pone.0092196-Twitter1"><label>42</label>
<mixed-citation publication-type="other" xlink:type="simple">Twitter API, section for developers of Twitter Web page. Available: <ext-link ext-link-type="uri" xlink:href="https://dev.twitter.com" xlink:type="simple">https://dev.twitter.com</ext-link>. Accessed 2014 Feb 6.</mixed-citation>
</ref>
<ref id="pone.0092196-Ratkiewicz1"><label>43</label>
<mixed-citation publication-type="other" xlink:type="simple">Ratkiewicz J, Conover M, Meiss M, Gonçalves B, Patil S, <etal>et al</etal>.. (2011) Truthy: Mapping the spread of astroturf in microblog streams. Proceedings of the 20th international conference companion on World Wide Web - WWW ′11, p.249–252.</mixed-citation>
</ref>
<ref id="pone.0092196-Data1"><label>44</label>
<mixed-citation publication-type="other" xlink:type="simple">Data available at the Stanford large network dataset collection. Available: <ext-link ext-link-type="uri" xlink:href="http://snap" xlink:type="simple">http://snap</ext-link>. stanford.edu/data. Accessed 2014 Feb 6.</mixed-citation>
</ref>
<ref id="pone.0092196-Ugander2"><label>45</label>
<mixed-citation publication-type="other" xlink:type="simple">Ugander J, Karrer B, Backstrom L, Marlow C (2011) The anatomy of the Facebook social graph. arXiv:1111.4503.</mixed-citation>
</ref>
<ref id="pone.0092196-State1"><label>46</label>
<mixed-citation publication-type="other" xlink:type="simple">State B, Weber I, Zagheni E (2013) Studying inter-national mobility through IP geolocation. Proceedings of the sixth ACM international conference on Web search and data mining - WSDM ′13, p.265–274.</mixed-citation>
</ref>
<ref id="pone.0092196-Gridded1"><label>47</label>
<mixed-citation publication-type="other" xlink:type="simple">Gridded Population of the World, Version 3 (GPWv3): Population Count Grid, Future Estimates. Palisades, NY: NASA Socioeconomic Data and Applications Center (SEDAC). Available: <ext-link ext-link-type="uri" xlink:href="http://sedac.ciesin.columbia.edu/data/set/gpw-v3-population-count-future-estimates" xlink:type="simple">http://sedac.ciesin.columbia.edu/data/set/gpw-v3-population-count-future-estimates</ext-link>. Ac-cessed 2014 Feb 6.</mixed-citation>
</ref>
<ref id="pone.0092196-Rivera1"><label>48</label>
<mixed-citation publication-type="journal" xlink:type="simple"><name name-style="western"><surname>Rivera</surname><given-names>MT</given-names></name>, <name name-style="western"><surname>Soderstrom</surname><given-names>SB</given-names></name>, <name name-style="western"><surname>Uzzi</surname><given-names>B</given-names></name> (<year>2010</year>) <article-title>Social networks: Assortative, relational, and proximity mechanisms</article-title>. <source>Annu Rev Sociol</source> <volume>36</volume>: <fpage>91</fpage>–<lpage>115</lpage>.</mixed-citation>
</ref>
</ref-list></back>
</article>